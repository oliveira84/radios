(this.webpackJsonpradios=this.webpackJsonpradios||[]).push([[0],{58:function(t,e,n){"use strict";n.r(e);var r,a,i,s,c,o,u,l,h,p,f=n(0),d=n.n(f),b=n(20),v=n.n(b),j=n(4),g=n(2),y=n.n(g),x=n(3),m=n(9),w=n(6),O=n(7),k=O.b.div(r||(r=Object(w.a)(["\n  width: 100%;\n \n"]))),C=O.b.div(a||(a=Object(w.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(",", 1fr));\n  grid-gap: 0.75rem;\n  align-items: center;\n  justify-items: center;\n\n"])),(function(t){return t.minWidth})),R=n(1),S=function(t){var e=t.children,n=t.minWidth;return Object(R.jsx)(k,{children:Object(R.jsx)(C,{minWidth:n,children:e})})},q=n(24),E=n.n(q),B={id:"noRadio",name:"",url:"",favicon:"",homepage:"",votes:0},T=O.b.div(i||(i=Object(w.a)(["\n  height: 160px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  text-align: center;\n\n  h3 {\n    color: #333;\n    margin-top: 10px;\n    font-weight: 900;\n    font-size: 0.8rem;\n  }\n"]))),L=O.b.img(s||(s=Object(w.a)(["\n  width: 110px;\n  height: 110px;\n  transition: all 0.2s;\n  object-fit: cover;\n  border-radius: 10px;\n  -webkit-box-shadow: 0 2px 5px 0 #000000;\n  box-shadow: 0 3px 5px 0 #000000;\n  opacity: ",";\n  animation: animate infinite;\n\n  @keyframes animate {\n    0% {\n      border: 4px solid;\n    }\n    100% {\n      border: 4px solid;\n    }\n  }\n\n  :hover {\n    opacity: 1;\n    transform: scale(0.97);\n  }\n\n\n"])),(function(t){return t.playing?1:.8})),U=function(t){var e=t.radio,n=t.setRadio,r=t.setState,a=t.playing;return Object(R.jsxs)(T,{playing:a,children:[Object(R.jsx)(L,{src:e.favicon,onError:function(t){t.target.onerror=null,t.target.src="images/no_image.jpg"},alt:e.name,playing:a,onClick:function(){n(e),r({playing:!0,loading:!0})}}),Object(R.jsx)("h3",{children:e.name.replace(/_|[Rr][a\xe1]dio|\(.*\)/,"")})]})},z=O.b.div(c||(c=Object(w.a)(['\n  padding-top: 20px;\n  width: 100vw;\n  height: 140px;\n  position: fixed;\n  top: 0;\n  left: 0;\n  font-size: 1.5rem;\n  z-index: 10;\n  background-size: cover;\n  color: white;\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0)),\n  url("https://images.unsplash.com/photo-1579527455755-d16e330c0576?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1951&q=80") center left;\n  -webkit-box-shadow: 0 2px 10px 0 #000000;\n  box-shadow: 0 2px 10px 1px #000000;\n  border-radius: 0 0 20px 20px;\n\n']))),N=O.b.div(o||(o=Object(w.a)(["\n  position: absolute;\n  top: 75px;\n  left: 10%;\n  width: 80vw;\n  display: flex;\n  align-items: center;\n\n  i {\n    margin-left: 15px;\n    cursor: pointer;\n  }\n\n  input {\n    height: 2rem;\n    width: 30%;\n    min-width: 200px;\n    padding-left: 10px;\n\n    :focus {\n      outline: none;\n    }\n\n  }\n"]))),D=O.b.div(u||(u=Object(w.a)(["\n  margin: 0 auto;\n  width: 80vw;\n  height: 80px;\n  background: transparent;\n\n  .icon {\n    display: inline-block;\n    width: 50px;\n  }\n\n  a {\n    text-decoration: none;\n    color: white;\n    display: inline-block;\n    font-weight: 700;\n    min-width: 400px;\n\n  }\n\n"]))),G=function(t){var e=t.radio,n=t.status,r=t.setStatus,a=t.setSearchTerm,i=t.searchTerm,s=Object(f.useState)(i),c=Object(m.a)(s,2),o=c[0],u=c[1],l=Object(f.useRef)(null),h=Object(f.useRef)(!0);return Object(f.useEffect)((function(){if(!h.current){var t=setTimeout((function(){a(o)}),500);return function(){return clearTimeout(t)}}h.current=!1}),[a,o]),Object(f.useEffect)((function(){null!==l.current&&l.current.focus()}),[]),Object(R.jsxs)(z,{children:[Object(R.jsx)(D,{children:"noRadio"!==e.id?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("span",{className:"icon",children:[" ",n.loading?Object(R.jsx)("i",{className:"fas fa-cog fa-spin",onClick:function(){return r(Object(j.a)(Object(j.a)({},n),{},{playing:!1}))}}):n.playing?Object(R.jsx)("i",{className:"fas fa-pause",onClick:function(){return r(Object(j.a)(Object(j.a)({},n),{},{playing:!1}))}}):Object(R.jsx)("i",{className:"fas fa-play",onClick:function(){return r(Object(j.a)(Object(j.a)({},n),{},{playing:!0}))}})]}),Object(R.jsx)("a",{href:e.homepage,target:"_blank",rel:"noreferrer",children:e.name.replace(/\(.*\)|[Rr][a\xe1]dio/,"")})]}):Object(R.jsx)("h3",{children:"Portuguese Radios"})}),Object(R.jsxs)(N,{children:[Object(R.jsx)("input",{onChange:function(t){return u(t.currentTarget.value)},ref:l,value:o,type:"text",placeholder:"Search for a Radio"}),o&&Object(R.jsx)("i",{className:"fas fa-times",onClick:function(){a(""),u("")}})]})]})},A=n(15),I=n(25),M=n(26),W=n(27),P={byUuid:"byUuid",byName:"byName",byNameExact:"byNameExact",byCodec:"byCodec",byCodexExact:"byCodecExact",byCountry:"byCountry",byCountryExact:"byCountryExact",byCountryCodeExact:"byCountryCodeExact",byState:"byState",byStateExact:"byStateExact",byLanguage:"byLanguage",byLanguageExact:"byLanguageexact",byTag:"byTag",byTagExact:"byTagExact"},_=function(){function t(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Object(M.a)(this,t),this.appName=e,this.hideBroken=n,this.baseUrl=void 0,this.fetchConfig={method:"GET",redirect:"follow"},!e)throw new Error("appName is required");this.fetchConfig.headers={"user-agent":this.appName}}return Object(W.a)(t,[{key:"resolveBaseUrl",value:function(){var t=Object(x.a)(y.a.mark((function t(){var e,n,r,a=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:{},t.next=3,fetch("http://all.api.radio-browser.info/json/servers",e);case 3:if(!(r=t.sent).ok){t.next=11;break}return t.next=7,r.json();case 7:return n=t.sent,t.abrupt("return",n);case 11:throw r;case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"setBaseUrl",value:function(t){this.baseUrl=t}},{key:"getBaseUrl",value:function(){return this.baseUrl}},{key:"getCountries",value:function(){var t=Object(x.a)(y.a.mark((function t(e,n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.runRequest(this.buildRequest("countries",e,n),r));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"getCountryCodes",value:function(){var t=Object(x.a)(y.a.mark((function t(e,n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=e?"".concat(e.toUpperCase()):"",t.abrupt("return",this.runRequest(this.buildRequest("countrycodes",e,n),r));case 2:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"getCodecs",value:function(){var t=Object(x.a)(y.a.mark((function t(e,n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.runRequest(this.buildRequest("codecs","",e),n));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getCountryStates",value:function(){var t=Object(x.a)(y.a.mark((function t(e,n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.runRequest(this.buildRequest("states",e,n),r));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"getLanguages",value:function(){var t=Object(x.a)(y.a.mark((function t(e,n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.runRequest(this.buildRequest("languages",e,n),r));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"getTags",value:function(){var t=Object(x.a)(y.a.mark((function t(e,n,r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=e?e.toLowerCase():"",t.abrupt("return",this.runRequest(this.buildRequest("tags",e,n),r));case 2:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"getStationsBy",value:function(){var t=Object(x.a)(y.a.mark((function t(e,n,r,a){var i,s,c=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=c.length>4&&void 0!==c[4]&&c[4],P[e]){t.next=3;break}throw new Error("search type does not exist: ".concat(e));case 3:return n=n?n.toLowerCase():"",t.next=6,this.runRequest(this.buildRequest("stations/".concat(e.toLowerCase()),n,r),a);case 6:return s=t.sent,t.abrupt("return",this.normalizeStations(s,i));case 8:case"end":return t.stop()}}),t,this)})));return function(e,n,r,a){return t.apply(this,arguments)}}()},{key:"normalizeStations",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[],a={},i=Object(I.a)(t);try{for(i.s();!(e=i.n()).done;){var s=e.value;if(n){var c="".concat(s.name.toLowerCase().trim()).concat(s.url.toLowerCase().trim());if(a[c])continue;a[c]=!0}var o={changeId:s.changeuuid,id:s.stationuuid,name:s.name,url:s.url,urlResolved:s.url_resolved,homepage:s.homepage,favicon:s.favicon,country:s.country,countryCode:s.countrycode,state:s.state,votes:s.votes,codec:s.codec,bitrate:s.bitrate,clickCount:s.clickcount,clickTrend:s.clicktrend,hls:Boolean(s.hls),lastCheckOk:Boolean(s.lastcheckok),lastChangeTime:new Date(s.lastchangetime),lastCheckOkTime:new Date(s.lastcheckoktime),clickTimestamp:new Date(s.clicktimestamp),lastLocalCheckTime:new Date(s.lastlocalchecktime),language:s.language.split(","),lastCheckTime:new Date(s.lastchecktime),tags:Object(A.a)(new Set(s.tags.split(","))).filter((function(t){return t.length>0&&t.length<10}))};r.push(o)}}catch(u){i.e(u)}finally{i.f()}return r}},{key:"getAllStations",value:function(){var t=Object(x.a)(y.a.mark((function t(e,n){var r,a,i=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>2&&void 0!==i[2]&&i[2],t.next=3,this.runRequest(this.buildRequest("stations","",e),n);case 3:return a=t.sent,t.abrupt("return",this.normalizeStations(a,r));case 5:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"searchStations",value:function(){var t=Object(x.a)(y.a.mark((function t(e,n){var r,a,i=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>2&&void 0!==i[2]&&i[2],t.next=3,this.runRequest(this.buildRequest("stations/search",void 0,e),n);case 3:return a=t.sent,t.abrupt("return",this.normalizeStations(a,r));case 5:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getStationsByClicks",value:function(){var t=Object(x.a)(y.a.mark((function t(e,n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.resolveGetStations("topclick",e,n));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getStationsByVotes",value:function(){var t=Object(x.a)(y.a.mark((function t(e,n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.resolveGetStations("topvote",e,n));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getStationsByRecentClicks",value:function(){var t=Object(x.a)(y.a.mark((function t(e,n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.resolveGetStations("lastclick",e,n));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"sendStationClick",value:function(){var t=Object(x.a)(y.a.mark((function t(e,n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.runRequest(this.buildRequest("url",e,void 0,!1),n));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"voteForStation",value:function(){var t=Object(x.a)(y.a.mark((function t(e,n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.runRequest(this.buildRequest("vote",e),n));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getStationsById",value:function(){var t=Object(x.a)(y.a.mark((function t(e,n){var r,a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.join(","),t.next=3,this.runRequest(this.buildRequest("stations/byuuid?uuids=".concat(r),void 0,void 0,!1),n);case 3:return a=t.sent,t.abrupt("return",this.normalizeStations(a));case 5:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getStationByUrl",value:function(){var t=Object(x.a)(y.a.mark((function t(e,n){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.runRequest(this.buildRequest("stations/byurl/".concat(e),void 0,void 0,!1),n);case 2:return r=t.sent,t.abrupt("return",this.normalizeStations(r));case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"resolveGetStations",value:function(){var t=Object(x.a)(y.a.mark((function t(e,n,r){var a,i;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n?"/".concat(n):"",t.next=3,this.runRequest(this.buildRequest("stations/".concat(e).concat(a),void 0,void 0,!1),r);case 3:return i=t.sent,t.abrupt("return",this.normalizeStations(i));case 5:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"buildRequest",value:function(t,e,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e=e?"/".concat(encodeURIComponent(e)):"",n&&("tagList"in(r=Object(j.a)({},n))&&Array.isArray(r.tagList)&&(r.tagList=Object(A.a)(r.tagList)),a&&"undefined"===typeof r.hideBroken&&(r.hideBroken=this.hideBroken));var i=r?this.createQueryParams(r):"";return"".concat(t).concat(e).concat(i)}},{key:"runRequest",value:function(){var t=Object(x.a)(y.a.mark((function t(e){var n,r,a,i=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=Object(j.a)(Object(j.a)(Object(j.a)({},this.fetchConfig),n),{},{headers:Object(j.a)(Object(j.a)({},this.fetchConfig.headers),n.headers)}),this.baseUrl||(this.baseUrl="https://fr1.api.radio-browser.info"),t.next=5,fetch("".concat(this.baseUrl,"/json/").concat(e),r);case 5:if(!(a=t.sent).ok){t.next=10;break}return t.abrupt("return",a.json());case 10:throw a;case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"createQueryParams",value:function(t){var e="";if(t)for(var n=0,r=Object.entries(t);n<r.length;n++){var a=Object(m.a)(r[n],2),i=a[0],s=a[1];e+="&".concat(i,"=").concat(encodeURIComponent(s))}return e?"?".concat(e.slice(1).toLowerCase()):""}}]),t}(),F=O.b.div(l||(l=Object(w.a)(["\n  position: absolute;\n  top: 180px;\n  width: 80vw;\n  overflow: hidden;\n  \n"]))),H=function(){var t=Object(f.useState)(B),e=Object(m.a)(t,2),n=e[0],r=e[1],a=Object(f.useState)({playing:!1,loading:!1}),i=Object(m.a)(a,2),s=i[0],c=i[1],o=Object(f.useState)([]),u=Object(m.a)(o,2),l=u[0],h=u[1],p=Object(f.useState)(""),d=Object(m.a)(p,2),b=d[0],v=d[1];return Object(f.useEffect)((function(){var t=new _("My Radio App");(function(){var e=Object(x.a)(y.a.mark((function e(){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.searchStations({countryCode:"PT",limit:999});case 2:n=e.sent,h(n.sort((function(t,e){return e.votes-t.votes})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h]),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(G,{radio:n,status:s,setStatus:c,setSearchTerm:v,searchTerm:b}),Object(R.jsx)(E.a,{onBuffer:function(){return c(Object(j.a)(Object(j.a)({},s),{},{loading:!0}))},onBufferEnd:function(){return c(Object(j.a)(Object(j.a)({},s),{},{loading:!1}))},url:n.url,playing:s.playing,width:0,height:0}),Object(R.jsx)(F,{children:Object(R.jsx)(S,{minWidth:"120px",children:b?l.filter((function(t){return t.name.toLowerCase().includes(b.toLowerCase())})).map((function(t){return Object(R.jsx)(U,{radio:t,setRadio:r,setState:c,playing:t.id===n.id},t.id)})):l.map((function(t){return Object(R.jsx)(U,{radio:t,setRadio:r,setState:c,playing:t.id===n.id},t.id)}))})})]})},J=Object(O.a)(h||(h=Object(w.a)(["\n  * {\n    box-sizing: border-box;\n    font-family: Roboto, sans-serif;\n    margin: 0;\n    padding: 0;\n  }\n\n  body {\n\n    // Remove scrollbar allowing scroll    \n    background: #f4f4f4;\n    scrollbar-width: none;\n    -ms-overflow-style: none;\n\n    &::-webkit-scrollbar {\n      width: 0;\n      background: transparent;\n    }\n\n    ///////////////////////////////////\n  }\n"]))),Q=O.b.div(p||(p=Object(w.a)(["\n  margin: 0 auto;\n  width: 80vw;\n"])));var V=function(){return Object(R.jsxs)(Q,{children:[Object(R.jsx)(H,{}),Object(R.jsx)(J,{})]})};v.a.render(Object(R.jsx)(d.a.StrictMode,{children:Object(R.jsx)(V,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.fb25a1e2.chunk.js.map